<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Heart Notes</title>
</head>
<body>
<h3 align="center">Heart Notes</h3>
<p align="left">This  is a simple application to take and manage notes related to heart issues. It has a database with the following fields:</p>
<ul>
  <li><strong>Date</strong>: The date of the note, can be modified. </li>
  <li><strong>Modification Date</strong>: The date the note was last modified. (Automatic and cannot be modified. ) </li>
  <li><strong>Count</strong>: Intended as a count of missing beats, typically when taking a pulse. Can be used for whatever you want. </li>
  <li><strong>Total</strong>: The total number of beats counted.  Can be used for whatever you want. </li>
  <li><strong>Edited</strong>: Whether it has been edited or not. (Automatic and cannot be modified.)</li>
  <li><strong>Comment</strong>: The note text.</li>
</ul>
<p>One of its advantages, is that you do not have to enter things like the time, since they are entered automatically.</p>
<p>Heart Notes has been made to work with the Android Storage Access Framework in order to comply with Android policies about writing external storage. The database itself is located at /primary/Android/data/net.kenevans.heartnotes/Files/HeartNotes.db. (&quot;primary&quot; usually has a name like /storage/emulated/0.) This is an app-specific directory, and anything in it will be lost if the app is uninstalled. Owing to recent changes there is nowhere else to put the database (except in internal storage where it would not be visible at all). The databse can be replaced with another HeartNotes database, perhaps a backup, if desired. </p>
<p>The data, such as saved text and databases, go in a data directory. You need to allow Heart Notes access to this directory by selecting it in a system file chooser.  You do this with the Set Data Directory menu item.  It can be on the external SD card.  Starting with Android 11, it cannot be the Downloads directory. Repeating this operation with a different directrory will override the previous setting but will not move the files. You can do that manually. The data in this directory will be retained on uninstall (provided it is not in app-specific storage).</p>
<p>Heart Notes requires permissions for Location if you use  <a href="https://openweathermap.org/">OpenWeather</a> to get weather information. </p>
<p>The <a href="#mainscreen">main screen</a> consists of a list of the notes in the database. Clicking an item in the list allows you to edit it in the <a href="#editscreen">edit screen</a>, which has entries for all of the fields plus Delete, Cancel, and Save buttons. There is a means to insert the weather, as well. </p>
<h3 align="left"><a name="mainscreen" id="mainscreen"></a>Main Screen Menu Items </h3>
<h4>New</h4>
<p>Start a new note. Brings up a screen where you can view all the parameters, set the settable data, and compose the note. </p>
<h4>Filter</h4>
<p>You can filter the notes by <em>None</em>, <em>Count is not Zero</em>, and <em>Count equals Total</em>. Setting the count to be the same as total can be treated as denoting a more serious arrhythmia than missing beats. </p>
<h4>Sort Order</h4>
<p>You can sort ascending or descending in time.  </p>
<h4>Beginning</h4>
<p>Moves to the beginning of the list. </p>
<h4>End</h4>
<p>Moves to the end of the list. </p>
<h4>Refresh</h4>
<p>Recreates the list from the database. </p>
<h4>Save as Text</h4>
<p>Saves the database as a text file to the Data directory. The name is of the form Heart Notes-yyyy-MM-dd-HHmmss.txt, and the values correspond to the time it is saved. The file is intended to be formatted so it can be viewed and printed without editing. It can also be read as a CSV file, tab delimited. Note that it is better to not use tabs and carriage returns in the note itself. It interferes with restoring the database from one of the text files or using it as a CSV file. The lines are of the form:</p>
<pre>2/60 	Jun 03, 2012 23:00:00 -0500 	After working out.</pre>
<h4>Save Database </h4>
<p>Saves the current database itself in the form Heart Notes-yyyy-MM-dd-HHmmss.db. This database can be moved to /primary/Android/data/net.kenevans.heartnotes/Files to become the database used by Heart Notesr. (&quot;primary&quot; usually has a name like /storage/emulated/0.) This is an app-specific directory, and anything in it will be lost if the app is uninstalled. It will have to be renamed to HeartNotes.db. There will also be a HeartNotes.db-journal file there. This is a temporary file. You should be able to ignore it. It will be recreated as necessry. Note that you can open either the saved or the used databse in external SQLite browsers on other platforms, such as Windows, to do more with it than is done in the app. </p>
<h4>Restore</h4>
<p>Restores the database from one of the saved text files. Since the editing information is not saved, it will be set to the date the database was restored. </p>
<h4>Set OpenWeather Key </h4>
<p>HeartNotes can get the current weather from <a href="https://openweathermap.org/">OpenWeather</a> and insert it in a note. To do this you need to register and get a key. (It is free.) This is where you set the key. </p>
<h4>Set Data Directory</h4>
<p>You can set the data directory where text files and database backups are saved. You have to do this or you cannot save these items. You need to allow Heart Notes access to this directory by selecting it in a system file chooser.  You do this with the Set Data Directory menu item.  It can be on the external SD card. You can use this to switch to different directories with different data, if you like. This is the directory for saved files only. The database remains in /primary/Android/data/net.kenevans.heartnotes/Files/HeartNotes.db unless replaced manually. </p>
<h4>Help</h4>
<p>Displays this page.</p>
<h3 align="left"><a name="editscreen" id="editscreen"></a>Edit Screen Menu Items </h3>
<h4>Insert Weather</h4>
<p>Allows you to insert the weather, if it can be found. It uses <a href="https://openweathermap.org/">OpenWeather</a>.  To do this you need to register and get a key. (It is free.)</p>
<p>&nbsp;</p>
</body>
</html>
